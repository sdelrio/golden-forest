"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([[4225],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=c(r),m=o,f=d["".concat(l,".").concat(m)]||d[m]||u[m]||s;return r?n.createElement(f,i(i({ref:t},p),{},{components:r})):n.createElement(f,i({ref:t},p))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=r.length,i=new Array(s);i[0]=d;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var c=2;c<s;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5459:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return a},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var n=r(3117),o=r(102),s=(r(7294),r(3905)),i=["components"],a={},l="Wordpress",c={unversionedId:"Networking/CDN/wordpress",id:"Networking/CDN/wordpress",title:"Wordpress",description:"Force CSS reload in WordPress every time when file is updated",source:"@site/docs/Networking/CDN/wordpress.md",sourceDirName:"Networking/CDN",slug:"/Networking/CDN/wordpress",permalink:"/docs/Networking/CDN/wordpress",editUrl:"https://github.com/sdelrio/golden-forest/edit/master/docs/Networking/CDN/wordpress.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"HTTP caching",permalink:"/docs/Networking/CDN/mozilla"},next:{title:"WireGuard VPN",permalink:"/docs/Networking/VPN/wireguard-vpn"}},p=[{value:"References",id:"references",children:[],level:2}],u={toc:p};function d(e){var t=e.components,r=(0,o.Z)(e,i);return(0,s.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"wordpress"},"Wordpress"),(0,s.kt)("p",null,"Force CSS reload in WordPress every time when file is updated"),(0,s.kt)("p",null,"In ",(0,s.kt)("inlineCode",{parentName:"p"},"$ver"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"check if actual file has changed, and if so ",(0,s.kt)("ul",{parentName:"li"},(0,s.kt)("li",{parentName:"ul"},"update it\u2019s version number.")))),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"wp_enqueue_style(\n    'my_custom_style',\n    get_stylesheet_directory_uri() . '/sz_style.css',\n    array(),\n    filemtime( get_stylesheet_directory_uri() . '/sz_style.css')\n);\n")),(0,s.kt)("p",null,"This part:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"filemtime( get_stylesheet_directory_uri() . '/sz_style.css')\n")),(0,s.kt)("p",null,"will check when the script or stylesheet file you are adding was modified and fetch that time in Unix Timestamp format."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-html"},"<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/wp-content/themes/pub/baskerville-2/style.css?ver=1617209817' type='text/css' media='all' />\n")),(0,s.kt)("p",null,"In this example, ",(0,s.kt)("inlineCode",{parentName:"p"},"1617209817")," = ",(0,s.kt)("inlineCode",{parentName:"p"},"Wed Mar 31 2021 16:56:57 GMT+0000")),(0,s.kt)("p",null,"So the version of the CSS or JavaScript file you enque will be equil to the time it was modified."),(0,s.kt)("p",null,"Depending on the wordpress version this usage may vary, for eample, it can have some extra parameters or name of vars:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-html"},"<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/wp-content/themes/pub/baskerville-2/style.css?m=1626265455h&cssminify=yes' type='text/css' media='all' />\n")),(0,s.kt)("h2",{id:"references"},"References"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://sabrinazeidan.com/force-css-js-refresh-wordpress-development/"},"Force CSS and JS refresh in WordPress during development"))))}d.isMDXComponent=!0}}]);