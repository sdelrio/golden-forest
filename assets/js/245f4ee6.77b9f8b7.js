"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([[5335],{15088:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var n=r(87462),s=(r(67294),r(3905));r(61839);const a={title:"TrueNAS SCALE scripts",date:20230901,author:"sdelrio",tags:["nas"]},i="TrueNAS SCALE scripts",o={unversionedId:"OS/GNU-Linux/TrueNAS/truenas-scripts",id:"OS/GNU-Linux/TrueNAS/truenas-scripts",title:"TrueNAS SCALE scripts",description:"Weekly trim Cron for nvme/ssd",source:"@site/docs/OS/GNU-Linux/TrueNAS/truenas-scripts.md",sourceDirName:"OS/GNU-Linux/TrueNAS",slug:"/OS/GNU-Linux/TrueNAS/truenas-scripts",permalink:"/docs/OS/GNU-Linux/TrueNAS/truenas-scripts",draft:!1,editUrl:"https://github.com/sdelrio/golden-forest/edit/master/docs/OS/GNU-Linux/TrueNAS/truenas-scripts.md",tags:[{label:"nas",permalink:"/docs/tags/nas"}],version:"current",frontMatter:{title:"TrueNAS SCALE scripts",date:20230901,author:"sdelrio",tags:["nas"]},sidebar:"tutorialSidebar",previous:{title:"TrueNAS SCALE Install",permalink:"/docs/OS/GNU-Linux/TrueNAS/truenas-install"},next:{title:"ZFS",permalink:"/docs/OS/GNU-Linux/ZFS/"}},l={},u=[{value:"Weekly trim Cron for nvme/ssd",id:"weekly-trim-cron-for-nvmessd",level:2},{value:"References",id:"references",level:3},{value:"UTF-8 Encode on CLI",id:"utf-8-encode-on-cli",level:2},{value:"export InfluxDB with credentials",id:"export-influxdb-with-credentials",level:2}],d={toc:u},p="wrapper";function c(e){let{components:t,...r}=e;return(0,s.kt)(p,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"truenas-scale-scripts"},"TrueNAS SCALE scripts"),(0,s.kt)("h2",{id:"weekly-trim-cron-for-nvmessd"},"Weekly trim Cron for nvme/ssd"),(0,s.kt)("p",null,'Use it on a "quiet" period (3am Sunday, first sunday of month, ...), when deleting large data. Usually takes less than a minute, and is most of the time is just a couple of seconds.'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"zpool trim ssdpool\n")),(0,s.kt)("h3",{id:"references"},"References"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://www.truenas.com/community/threads/auto-trim-for-nvme-pool.99162/"},"https://www.truenas.com/community/threads/auto-trim-for-nvme-pool.99162/"))),(0,s.kt)("h2",{id:"utf-8-encode-on-cli"},"UTF-8 Encode on CLI"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"export LC_ALL=C.UTF-8\n")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://www.truenas.com/community/threads/utf-8-encode.81351/page-2"},"https://www.truenas.com/community/threads/utf-8-encode.81351/page-2"))),(0,s.kt)("h2",{id:"export-influxdb-with-credentials"},"export InfluxDB with credentials"),(0,s.kt)("p",null,"Install an app with ",(0,s.kt)("inlineCode",{parentName:"p"},"carbon-relay-ng")," image."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://github.com/grafana/carbon-relay-ng/tree/master"},"https://github.com/grafana/carbon-relay-ng/tree/master"))),(0,s.kt)("p",null,"Reports Config, put remoe graphite server hostname to the ",(0,s.kt)("inlineCode",{parentName:"p"},"carbon-relay-ng")," URL."))}c.isMDXComponent=!0}}]);