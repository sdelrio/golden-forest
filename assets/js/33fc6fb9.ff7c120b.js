"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([[3263],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=r.createContext({}),l=function(e){var t=r.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(a.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=l(n),d=o,f=p["".concat(a,".").concat(d)]||p[d]||m[d]||i;return n?r.createElement(f,s(s({ref:t},c),{},{components:n})):r.createElement(f,s({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=p;var u={};for(var a in t)hasOwnProperty.call(t,a)&&(u[a]=t[a]);u.originalType=e,u.mdxType="string"==typeof e?e:o,s[1]=u;for(var l=2;l<i;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},18378:function(e,t,n){n.r(t),n.d(t,{assets:function(){return a},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return l}});var r=n(83117),o=(n(67294),n(3905));const i={sidebar_position:1,title:"Resources/Limits"},s=void 0,u={unversionedId:"Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods",id:"Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods",title:"Resources/Limits",description:"Resources/Limits",source:"@site/docs/Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods.md",sourceDirName:"Cloud-Platform/Kubernetes/Concepts/Configuration",slug:"/Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods",permalink:"/docs/Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods",draft:!1,editUrl:"https://github.com/sdelrio/golden-forest/edit/master/docs/Cloud-Platform/Kubernetes/Concepts/Configuration/resource-managment-pods.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Resources/Limits"},sidebar:"tutorialSidebar",previous:{title:"Kubernetes",permalink:"/docs/Cloud-Platform/Kubernetes/"},next:{title:"Horizontal Pod Autoscaler",permalink:"/docs/Cloud-Platform/Kubernetes/Concepts/HPA/"}},a={},l=[{value:"Resources/Limits",id:"resourceslimits",level:2},{value:"Requests",id:"requests",level:3},{value:"Limits",id:"limits",level:3},{value:"What to do with limits",id:"what-to-do-with-limits",level:2},{value:"Always use limits?",id:"always-use-limits",level:3},{value:"Never use limits?",id:"never-use-limits",level:3},{value:"Don&#39;t use?",id:"dont-use",level:3},{value:"References",id:"references",level:2}],c={toc:l};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"resourceslimits"},"Resources/Limits"),(0,o.kt)("h3",{id:"requests"},"Requests"),(0,o.kt)("p",null,"Are usually used to determine the average consumption.\nWhen schedulers need to asign the pod, it doesn't know how much it will consume, so it will use this value for selecting the node to start.\nIt means \"give me at least X ammount of CPU\".\nIt doesn't help on limiting the CPU usage."),(0,o.kt)("h3",{id:"limits"},"Limits"),(0,o.kt)("p",null,"Set the max number of resources allowed.\nYou are defining a period and a quota."),(0,o.kt)("p",null,"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},"cpu: 100m")),(0,o.kt)("p",null,"$$\nPeriod = 0.1s = 100,000 \\mus\nQuota: = 0.01s = 10,000 \\mus\n$$"),(0,o.kt)("p",null,"Can use the CPU for 0.01 seconds every 0.1 seconds."),(0,o.kt)("p",null,"If your container has a hard limit and wants more CPU, it has to wait for the next period."),(0,o.kt)("h2",{id:"what-to-do-with-limits"},"What to do with limits"),(0,o.kt)("h3",{id:"always-use-limits"},"Always use limits?"),(0,o.kt)("h3",{id:"never-use-limits"},"Never use limits?"),(0,o.kt)("h3",{id:"dont-use"},"Don't use?"),(0,o.kt)("h2",{id:"references"},"References"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers"},"Documentation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://itnext.io/cpu-limits-and-requests-in-kubernetes-fa9d55948b7c"},"https://itnext.io/cpu-limits-and-requests-in-kubernetes-fa9d55948b7c")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://dnastacio.medium.com/why-you-should-keep-using-cpu-limits-on-kubernetes-60c4e50dfc61"},"Why you should keep using CPU limits on k8s")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://home.robusta.dev/blog/stop-using-cpu-limits"},"Stop using CPU limits"))))}m.isMDXComponent=!0}}]);