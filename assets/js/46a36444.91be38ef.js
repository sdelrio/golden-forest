"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([[7389],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return p}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=c(n),p=r,g=m["".concat(s,".").concat(p)]||m[p]||d[p]||i;return n?a.createElement(g,l(l({ref:t},u),{},{components:n})):a.createElement(g,l({ref:t},u))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},58215:function(e,t,n){var a=n(67294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},9877:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(83117),r=n(67294),i=n(72389),l=n(24726),o=n(86010),s="tabItem_LplD";function c(e){var t,n,i,c=e.lazy,u=e.block,d=e.defaultValue,m=e.values,p=e.groupId,g=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=m?m:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,l.lx)(f,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===d?d:null!=(t=null!=d?d:null==(n=h.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=h[0])?void 0:i.props.value;if(null!==v&&!f.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=(0,l.UB)(),y=b.tabGroupChoices,w=b.setTabGroupChoices,N=(0,r.useState)(v),C=N[0],E=N[1],T=[],A=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=p){var x=y[p];null!=x&&x!==C&&f.some((function(e){return e.value===x}))&&E(x)}var D=function(e){var t=e.currentTarget,n=T.indexOf(t),a=f[n].value;a!==C&&(A(t),E(a),null!=p&&w(p,a))},O=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":u},g)},f.map((function(e){var t=e.value,n=e.label,i=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:C===t?0:-1,"aria-selected":C===t,key:t,ref:function(e){return T.push(e)},onKeyDown:O,onFocus:D,onClick:D},i,{className:(0,o.Z)("tabs__item",s,null==i?void 0:i.className,{"tabs__item--active":C===t})}),null!=n?n:t)}))),c?(0,r.cloneElement)(h.filter((function(e){return e.props.value===C}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==C})}))))}function u(e){var t=(0,i.Z)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},52156:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return m},default:function(){return g}});var a=n(83117),r=n(80102),i=(n(67294),n(3905)),l=n(9877),o=n(58215),s=["components"],c={},u="GIT",d={unversionedId:"Coding/CVS/git",id:"Coding/CVS/git",title:"GIT",description:"GIT is software for tracking changes in any set of files, usually used for coordinating work among programmers collaboratively developing source code during software development. Its goals include speed, data integrity, and support for distributed, non-linear workflows (thousands of parallel branches running on different systems).",source:"@site/docs/Coding/CVS/git.md",sourceDirName:"Coding/CVS",slug:"/Coding/CVS/git",permalink:"/docs/Coding/CVS/git",editUrl:"https://github.com/sdelrio/golden-forest/edit/master/docs/Coding/CVS/git.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Gerrit",permalink:"/docs/Coding/CVS/gerrit"},next:{title:"Gitea",permalink:"/docs/Coding/CVS/gitea"}},m=[{value:"Monorepo",id:"monorepo",children:[],level:2},{value:"Delete remote tag",id:"delete-remote-tag",children:[],level:2},{value:"Git Large File Storage",id:"git-large-file-storage",children:[{value:"Setup",id:"setup",children:[],level:3},{value:"Add large file sample",id:"add-large-file-sample",children:[],level:3}],level:2},{value:"Git terminal colors",id:"git-terminal-colors",children:[],level:2},{value:"Alias",id:"alias",children:[],level:2},{value:"Remove directory from cache",id:"remove-directory-from-cache",children:[],level:2},{value:"Commitizen",id:"commitizen",children:[{value:"Install",id:"install",children:[],level:3},{value:"Usage",id:"usage",children:[],level:3},{value:"References",id:"references",children:[],level:3}],level:2},{value:"pre-commit",id:"pre-commit",children:[{value:"Install",id:"install-1",children:[],level:3},{value:"Configuration",id:"configuration",children:[],level:3},{value:"References",id:"references-1",children:[],level:3}],level:2},{value:"Rolling back changes",id:"rolling-back-changes",children:[{value:"Sample",id:"sample",children:[],level:3}],level:2},{value:"Git blame",id:"git-blame",children:[],level:2}],p={toc:m};function g(e){var t=e.components,n=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"git"},"GIT"),(0,i.kt)("p",null,"GIT is software for tracking changes in any set of files, usually used for coordinating work among programmers collaboratively developing source code during software development. Its goals include speed, data integrity, and support for distributed, non-linear workflows (thousands of parallel branches running on different systems)."),(0,i.kt)("p",null,"Git was created by Linus Torvalds in 2005 for development of the Linux kernel, with other kernel developers contributing to its initial development. Since 2005, Junio Hamano has been the core maintainer. As with most other distributed version control systems, and unlike most client\u2013server systems, every Git directory on every computer is a full-fledged repository with complet history and full version-tracking abilities, independent of network access or a central server. Git is free and open-source software distributed under the GPL-2.0-only license."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://git-scm.com/"},"Homepage")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Git"},"Wikipedia")," ")),(0,i.kt)("h2",{id:"monorepo"},"Monorepo"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://dropbox.tech/application/speeding-up-a-git-monorepo-at-dropbox-with--200-lines-of-code"},"Speeding up a Git monorepo at Dropbox with"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://dropbox.tech/infrastructure/continuous-integration-and-deployment-with-bazel"},"Beziel")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://dropbox.tech/infrastructure/athena-our-automated-build-health-management-system"},"Athena: Our automated build health management system"))))),(0,i.kt)("h2",{id:"delete-remote-tag"},"Delete remote tag"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git push --delete origin tagName\ngit tag -d tagName\n")),(0,i.kt)("h2",{id:"git-large-file-storage"},"Git Large File Storage"),(0,i.kt)("p",null,"Git Large File Storage (LFS) replaces large files such as audio samples, videos, datasets, and graphics with text pointers inside Git, while storing the file contents on a remote server like GitHub.com or GitHub Enterprise."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://git-lfs.github.com/"},"An open source it extension for versioning large files"))),(0,i.kt)("h3",{id:"setup"},"Setup"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'git lfs install\ngit lfs track "*.psd"\ngit add .gitattributes\n')),(0,i.kt)("h3",{id:"add-large-file-sample"},"Add large file sample"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'git add file.psd\ngit commit -m "Add design file"\ngit push origin main\n')),(0,i.kt)("h2",{id:"git-terminal-colors"},"Git terminal colors"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"~/.gitconfig"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},'[color]\n    diff = always\n    ui = always\n    status = auto\n    branch = auto\n    interactive = auto\n    pager = true\n[color "status"]\n  added = green\n  changed = red bold\n  untracked = magenta bold\n\n[color "branch"]\n  remote = yellow\n')),(0,i.kt)("h2",{id:"alias"},"Alias"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"~/.gitconfig"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},'[alias]\n    review = "!f() { git push -u ${1:-origin} HEAD:`git config branch.$(git name-rev --name-only HEAD).merge | sed -e \'s@refs/heads/@refs/for/@\'`; }; f"\n    unstage = reset --soft HEAD^\n    ls = log --pretty=format:"%C(yellow)%h%Cred%d\\\\ %Creset%s%Cblue\\\\ [%cn]" --decorate\n    ll = log --pretty=format:"%C(yellow)%h%Cred%d\\\\ %Creset%s%Cblue\\\\ [%cn]" --decorate --numstat\n    st = status -s\n    gl = clone\n    ci = commit\n    co = checkout\n    br = branch\n    dif = diff --word-diff\n    diff1 = diff HEAD^\n    diff2 = diff HEAD^^\n    dc = diff --cached\n    r = reset\n    r1 = reset HEAD^\n    r2 = reset HEAD^^\n    rh = reset --hard\n    rh1 = reset HEAD^ --hard\n    rh2 = reset HEAD^^ --hard\n')),(0,i.kt)("h2",{id:"remove-directory-from-cache"},"Remove directory from cache"),(0,i.kt)("p",null,"Remove directory from remote repository after adding them to ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git rm -r --cached node_modules\ngit commit -m 'Remove the now ignored directory node_modules'\ngit push origin master\n")),(0,i.kt)("h2",{id:"commitizen"},"Commitizen"),(0,i.kt)("p",null,"Simple commit conventions for internet citizens."),(0,i.kt)("p",null,"When you commit with Commitizen, you'll be prompted to fill out any required commit fields at commit time. No more waiting until later for a git commit hook to run and reject your commit. No more digging through CONTRIBUTING.md to find what the preferred format is. Get instant feedback on your commit message formatting and be prompted for required fields."),(0,i.kt)("h3",{id:"install"},"Install"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g commitizen\n")),(0,i.kt)("h3",{id:"usage"},"Usage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ git add .\n$ git cz\n\nAll commit message lines will be cropped at 100 characters.\n? Select the type of change that you're commiting: (Use arrow keys)\n> feat:     A new feature\n  fix:      A bug fix\n  docs:     Documentaiton only changes\n  style:    Changes that do not aaffect the meaning of the code\n  refactor: A code change that neither fixes a bug or adds a feature\n  perf:     A code change that improves performance\n  test:     Adding missing tests\n  chore:    Changes to the build process or auxiliary tools and\n            libraires such as documetation generation\n")),(0,i.kt)("h3",{id:"references"},"References"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/commitizen/cz-cli"},"Commitizen GitHub")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"http://commitizen.github.io/cz-cli/"},"Commitizen doc"))),(0,i.kt)("h2",{id:"pre-commit"},"pre-commit"),(0,i.kt)("p",null,"A framework for managing and maitining multi-language pre-commit hooks"),(0,i.kt)("h3",{id:"install-1"},"Install"),(0,i.kt)(l.Z,{mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"pip",label:"pip",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pip install pre-commit\necho 'pre-commmit > requirements-dev.txt'\n"))),(0,i.kt)(o.Z,{value:"brew",label:"brew",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"brew install pre-commit\n")))),(0,i.kt)("h3",{id:"configuration"},"Configuration"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create file ",(0,i.kt)("inlineCode",{parentName:"li"},".pre-commit-config.yaml"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"repos:\n-   repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v2.3.0\n    hooks:\n    -   id: check-yaml\n    -   id: end-of-file-fixer\n    -   id: trailing-whitespace\n-   repo: https://github.com/psf/black\n    rev: 21.12b0\n    hooks:\n    -   id: black\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Install the git hoook")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ pre-commit install\n")),(0,i.kt)("h3",{id:"references-1"},"References"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://pre-commit.com/"},"pre-commit homepage"))),(0,i.kt)("h2",{id:"rolling-back-changes"},"Rolling back changes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"git reset"),": Can't use when you have already commited the change. Is useful for wiping out uncommited change. Reset will unstage anytihng y'ave added in preparation to commit. But does nothing for anything thaat has been commited"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"git revert"),": Create a commit with the reverse patch to cancel it out. This way you don\u2019t rewrite any history. But the original \u201cwhoops\u201d commit(s) and the patch are always going to be part of the version history.")),(0,i.kt)("h3",{id:"sample"},"Sample"),(0,i.kt)("p",null,"Check last commits"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'$ git log --oneline --all --graph --decorate\n* c78f1e0c (HEAD -> master, origin/master, origin/HEAD) k8s: linter tools\n* e3ba41b2 git: update content and adding tools\n* c90c2e85 CI: update db-migrations\n* 6b48bef0 CI: Update Jenkins & gitlab content\n* 6af4eea3 QA: update inspec content\n\n$ git revert c78f1e0c\n\n$ git log --oneline --all --graph --decorate\n* 3f67984 (HEAD -> master, origin/master, origin/HEAD) Revert "k8s: linter tools" will revert this commit c78f1e0c\n* e3ba41b2 git: update content and adding tools\n* c90c2e85 CI: update db-migrations\n* 6b48bef0 CI: Update Jenkins & gitlab content\n* 6af4eea3 QA: update inspec content\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://thenewstack.io/getting-legit-with-git-and-github-rolling-back-changes-with-revert-and-reset/"},"Getting Legit with Git and GitHub: Rolling Back Changes with Revert and Reset"))),(0,i.kt)("h2",{id:"git-blame"},"Git blame"),(0,i.kt)("p",null,"Don't blame people for changing whitespaces or moving code."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"git blame")," will show the author of the last commit that modified the particular line. If whitespaces were removed or that piece of code was moved around, blame will show that commit and you might blame the wrong person."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git blame -w -M\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-w")," will ignore whitespaces "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-M")," will detect moved or copied lines.")))}g.isMDXComponent=!0}}]);