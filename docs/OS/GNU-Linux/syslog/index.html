<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Golden Forest RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Golden Forest Atom Feed"><title data-react-helmet="true">Syslog | The Golden Forest</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://www.lorien.cloud/docs/OS/GNU-Linux/syslog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Syslog | The Golden Forest"><meta data-react-helmet="true" name="description" content="In computing, syslog is a standard for message logging. It allows separation of the software that generates messages, the system that stores them, and the software that reports and analyzes them. Each message is labeled with a facility code, indicating the type of system generating the message, and is assigned a severity level."><meta data-react-helmet="true" property="og:description" content="In computing, syslog is a standard for message logging. It allows separation of the software that generates messages, the system that stores them, and the software that reports and analyzes them. Each message is labeled with a facility code, indicating the type of system generating the message, and is assigned a severity level."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.lorien.cloud/docs/OS/GNU-Linux/syslog"><link data-react-helmet="true" rel="alternate" href="https://www.lorien.cloud/docs/OS/GNU-Linux/syslog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.lorien.cloud/docs/OS/GNU-Linux/syslog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.af61b41b.css">
<link rel="preload" href="/assets/js/runtime~main.e4853787.js" as="script">
<link rel="preload" href="/assets/js/main.eea34bcd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">The Golden Forest</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/docs-intro">IT</a><a class="navbar__item navbar__link" docid="tutorial-intro" href="/tutorial/tutorial-intro">Add content</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sdelrio/golden-forest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåú</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">üåû</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/"><img src="/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"><b>The Golden Forest</b></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs-intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Backup/restic">Backup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/category/cloud-infrastructure">Cloud Infrastructure</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Infrastructure&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/category/cloud-platform">Cloud Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/category/coding">Coding</a><button aria-label="Toggle the collapsible sidebar category &#x27;Coding&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/Containers/">Containers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Containers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/DevOps/">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/Domotic/">Domotic</a><button aria-label="Toggle the collapsible sidebar category &#x27;Domotic&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Hardware/ups">Hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/HomeLab/intel-nuc">HomeLab</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Multimedia/BDSup2Sub">Multimedia</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/Networking/">Networking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/docs/category/operative-systems">Operative Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operative Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/imaging-tools">Imaging and Cloning tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/OS/GNU-Linux/automatic-upgrades">GNU-Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/automatic-upgrades">Automatic Upgrades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/clean-system">Clean system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/disk-caching-and-performance">Disk Caching &amp; Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/kvm-qemu">KVM/QEMU</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/netplan">Netplan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/resolved">Systemd-resolved</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/OS/GNU-Linux/ssh">ssh client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/OS/GNU-Linux/syslog">Syslog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/HDs/smart">HDs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/Kernel/linux-5.15">Kernel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/Networking/traceroute">Networking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/ZFS/">ZFS</a><button aria-label="Toggle the collapsible sidebar category &#x27;ZFS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/Drivers/AMD/radeon">Drivers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/GNU-Linux/Hardware/CPU/Benchmarks/7zip">Hardware</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/OS/Windows/generic-keys">Windows</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/docs/category/quality-assurance">Quality Assurance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quality Assurance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Security/owasp">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Shell-Script/bash-unit-testing">Shell &amp; Scripts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Software/finances">Software</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/Software-Architecture/microservices">Software-Architecture</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Syslog</h1><p>In computing, syslog is a standard for message logging. It allows separation of the software that generates messages, the system that stores them, and the software that reports and analyzes them. Each message is labeled with a facility code, indicating the type of system generating the message, and is assigned a severity level.</p><p>Computer system designers may use syslog for system management and security auditing as well as general informational, analysis, and debugging messages. A wide variety of devices, such as printers, routers, and message receivers across many platforms use the syslog standard. This permits the consolidation of logging data from different types of systems in a central repository. Implementations of syslog exist for many operating systems.</p><p>When operating over a network, syslog uses a client-server architecture where a syslog server listens for and logs messages coming from clients.</p><p>Besides writing to files and communicating to each other, modern syslog daemons can also write to other destinations. For example, datastores like MySQL or Elasticsearch or queue systems such as Kafka and RabbitMQ. Each such destination often comes with its own protocol and message format. For example, Elasticsearch uses JSON over HTTP (though you can also secure it and send syslog messages over HTTPS).</p><ul><li><a href="https://en.wikipedia.org/wiki/Syslog" target="_blank" rel="noopener noreferrer">Wikipedia</a></li><li><a href="https://sematext.com/blog/what-is-syslog-daemons-message-formats-and-protocols/" target="_blank" rel="noopener noreferrer">2017: What is Syslog: Daemons, Message Formats and Protocols</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="formats">Formats<a class="hash-link" href="#formats" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="original-bsd-format-rfc3164">Original BSD format (RFC3164)<a class="hash-link" href="#original-bsd-format-rfc3164" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://tools.ietf.org/html/rfc3164" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc3164</a></li></ul><p>Although RFC suggests it‚Äôs a standard, RFC3164 was more of a collection of what was found in the wild at the time (2001), rather than a spec that implementations will adhere to. As a result, you‚Äôll find slight variations of it. That said, most messages will look like the RFC3164 example:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;34&gt;Oct 11 22:14:15 mymachine su: &#x27;su root&#x27; failed for lonvick on /dev/pts/8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This is how the application should log to /dev/log, and you can see some structure:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><code>&lt;34&gt;</code> is a priority number. It represents the facility number multiplied by 8, to which severity is added. In this case, facility=4 (Auth) and severity=2 (Critical).</li><li><code>Oct 11 22:14:15</code> is commonly known as syslog timestamp. It misses the year, the time-zone and doesn‚Äôt have sub-second information. For those reasons, rsyslog also parses RFC3164-formatted messages with an ISO-8601 timestamp instead
mymachine is a host name where the message was written.</li><li><code>su:</code> is a tag. Typically this is the process name ‚Äì sometimes having a PID (like su<!-- -->[1234]<!-- -->:). The tag typically ends in a colon, but it may end up just with the square brackets or with a space.</li><li>the message (MSG) is everything after the tag. In this example, since we have the colon to separate the tag and the message, the message actually starts with a space. This tiny detail often gives a lot of headache when parsing.</li></ul><p>In /var/log/messages, you‚Äôll often see something like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Oct 11 22:14:15 su: &#x27;su root&#x27; failed for lonvick on /dev/pts/8</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This isn‚Äôt a syslog message format, it‚Äôs just how most syslog deamons write messages to files by default. Usually, you can choose how the output data looks like, for example rsyslog has templates.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="new-format-rfc5424">‚ÄúNew‚Äù format (RFC5424)<a class="hash-link" href="#new-format-rfc5424" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://tools.ietf.org/html/rfc5424" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc5424</a></li></ul><p>RFC5424 came up in 2009 to deal with the problems of RFC3164. First of all, it‚Äôs an actual standard, that daemons and libraries chose to implement. Here‚Äôs an example message:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;34&gt;1 2003-10-11T22:14:15.003Z mymachine.example.com su - - - &#x27;su root&#x27; failed for lonvick on /dev/pts/8</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/ISO_8601</a></li><li><a href="https://sematext.com/blog/2013/05/28/structured-logging-with-rsyslog-and-elasticsearch/" target="_blank" rel="noopener noreferrer">https://sematext.com/blog/2013/05/28/structured-logging-with-rsyslog-and-elasticsearch/</a></li></ul><p>Now we get an ISO-8601 timestamp, amongst other improvements. We also get more structure: the dashes you can see there are places for PID, message ID and other structured data you may have. That said, RFC5424 structured data never really took off, as people preferred to put JSON in the syslog message (whether it‚Äôs the old or the new format). Finally, the new format supports UTF8 and other encodings, not only ASCII, and it‚Äôs easier to extend because it has a version number (in this example, the 1 after the priority number).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="protocols">Protocols<a class="hash-link" href="#protocols" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="tcp">TCP<a class="hash-link" href="#tcp" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://tools.ietf.org/html/rfc6587" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc6587</a></li></ul><p><strong>TCP</strong>. Just like the UDP, it was first used in the wild and then documented. That documentation finally came with RFC6587, which describes two flavors:
messages are delimited by a trailer character, typically a newline
messages are framed based on an octet count</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="udp">UDP<a class="hash-link" href="#udp" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://tools.ietf.org/html/rfc3164#section-2" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc3164#section-2</a></li><li><a href="https://tools.ietf.org/html/rfc5424" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc5424</a></li><li><a href="https://tools.ietf.org/html/rfc5426" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/rfc5426</a></li></ul><p>Originally, syslog messages were sent over the wire via <strong>UDP</strong> ‚Äì which was also mentioned in <em>RFC3164</em>. It was later standardized in RFC5426, after the new message format (<em>RFC5424</em>) was published.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="tls">TLS<a class="hash-link" href="#tls" title="Direct link to heading">‚Äã</a></h3><p>TLS. Standardized in <a href="https://tools.ietf.org/html/rfc5425" target="_blank" rel="noopener noreferrer">RFC5425</a>, which allows for encryption and certificate-based authorization</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="repl">REPL<a class="hash-link" href="#repl" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="http://blog.gerhards.net/2008/04/on-unreliability-of-plain-tcp-syslog.html" target="_blank" rel="noopener noreferrer">http://blog.gerhards.net/2008/04/on-unreliability-of-plain-tcp-syslog.html</a></li></ul><p>Unlike plain TCP, RELP adds application-level acknowledgements, which provides at-least-once guarantees on delivering messages. You can also get RELP with TLS if you need encryption and authorization</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="multiline-logs">Multiline logs<a class="hash-link" href="#multiline-logs" title="Direct link to heading">‚Äã</a></h2><p>The ones we hear most come from the assumption that UDP is the only option, implying there‚Äôs no reliability, authorization or encryption.</p><p>The other frequent one is that you can‚Äôt send multiline messages, like stack traces. This is only true for TCP syslog, if newlines are used for delimiting. Then, a stacktrace will end up as multiple messages at the destination ‚Äì unless its newlines are escaped at the source and reverted at the destination. With UDP, multiline logs work out of the box, because you have one message per datagram. Other protocols (TLS, RELP and octet-delimited TCP) also handle multiline logs well, by framing messages.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="syslog-ng--elasticsearch">Syslog-ng + elasticsearch<a class="hash-link" href="#syslog-ng--elasticsearch" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://www.syslog-ng.com/community/b/blog/posts/how-to-parse-data-with-syslog-ng-store-in-elasticsearch-and-analyze-with-kibana" target="_blank" rel="noopener noreferrer">https://www.syslog-ng.com/community/b/blog/posts/how-to-parse-data-with-syslog-ng-store-in-elasticsearch-and-analyze-with-kibana</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sdelrio/golden-forest/edit/master/docs/OS/GNU-Linux/syslog.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/OS/GNU-Linux/ssh"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ssh client</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/OS/GNU-Linux/HDs/smart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">S.M.A.R.T. tools</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#formats" class="table-of-contents__link toc-highlight">Formats</a><ul><li><a href="#original-bsd-format-rfc3164" class="table-of-contents__link toc-highlight">Original BSD format (RFC3164)</a></li><li><a href="#new-format-rfc5424" class="table-of-contents__link toc-highlight">‚ÄúNew‚Äù format (RFC5424)</a></li></ul></li><li><a href="#protocols" class="table-of-contents__link toc-highlight">Protocols</a><ul><li><a href="#tcp" class="table-of-contents__link toc-highlight">TCP</a></li><li><a href="#udp" class="table-of-contents__link toc-highlight">UDP</a></li><li><a href="#tls" class="table-of-contents__link toc-highlight">TLS</a></li><li><a href="#repl" class="table-of-contents__link toc-highlight">REPL</a></li></ul></li><li><a href="#multiline-logs" class="table-of-contents__link toc-highlight">Multiline logs</a></li><li><a href="#syslog-ng--elasticsearch" class="table-of-contents__link toc-highlight">Syslog-ng + elasticsearch</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/docs-intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/sdelrio/golden-forest" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 The Golden Forest project. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e4853787.js"></script>
<script src="/assets/js/main.eea34bcd.js"></script>
</body>
</html>