"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([["2566"],{4659:function(e,a,l){l.r(a),l.d(a,{frontMatter:()=>u,toc:()=>g,default:()=>y,metadata:()=>s,assets:()=>x,contentTitle:()=>f});var s=JSON.parse('{"id":"Games/DnD/XmlTest","title":"XmlChar Test Page","description":"This page tests the XmlChar component with different display modes and character files.","source":"@site/docs/Games/DnD/XmlTest.mdx","sourceDirName":"Games/DnD","slug":"/Games/DnD/XmlTest","permalink":"/pr-preview/pr-70/docs/Games/DnD/XmlTest","draft":false,"unlisted":false,"editUrl":"https://github.com/sdelrio/golden-forest/edit/master/docs/Games/DnD/XmlTest.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lingering Injuries","permalink":"/pr-preview/pr-70/docs/Games/DnD/Injuries"},"next":{"title":"Master Armor Table","permalink":"/pr-preview/pr-70/docs/Games/DnD/armor_table"}}'),i=l(74848),n=l(84429),t=l(96540),r=l(97158),c=l(10307);let o={container:"container_yYsR",fadeIn:"fadeIn_wEEg",containerMedium:"containerMedium_ufGN",containerSmall:"containerSmall_VfzI",header:"header_D77w",portraitContainer:"portraitContainer_lh1N",clearfix:"clearfix_znAG",name:"name_b49W",classLevel:"classLevel_HgJH",alignment:"alignment_kaFD",portrait:"portrait_THiu",emptyFace:"emptyFace_GP8d",vitals:"vitals_N1rZ",vitalItem:"vitalItem_3McE",abilities:"abilities_pDY_",ability:"ability_D_fQ",abilityLabel:"abilityLabel_GOBM",abilityValue:"abilityValue_IUiV",abilityBonus:"abilityBonus_wW5h",infoSection:"infoSection_JWMj",infoLabel:"infoLabel_PWbD",infoList:"infoList_Tyev",small:"small_CU7d",medium:"medium_Ad9h",placeholderIcon:"placeholderIcon_N8sa",horizontalRule:"horizontalRule_qnjT"};function m(e){return"number"!=typeof e?e:e>=0?`+${e}`:`${e}`}var d=l(39836);function h(e){return(0,i.jsx)(c.A,{fallback:(0,i.jsx)("div",{className:o.container,children:(0,i.jsx)("div",{className:o.content,children:(0,i.jsx)("h1",{className:o.name,children:"Loading character..."})})}),children:()=>(0,i.jsx)(p,{...e})})}function p({filename:e,display:a="medium",image:l}){let[s,n]=(0,t.useState)(null),[c,h]=(0,t.useState)(null),p=(0,r.Ay)("/fg/chars"),u=(0,r.Ay)("/fg/avatar"),f="small"===a,x="large"===a;(0,t.useEffect)(()=>{if(!e)return;let a="";e.endsWith(".xml")||(a=".xml"),fetch(`${p}/${e}${a}`).then(a=>{if(!a.ok)throw Error(`File not found: ${e}`);let l=a.headers.get("content-type")||"";if(!l.includes("xml")&&!l.includes("text/plain"))throw Error(`File not found: ${e}`);return a.text()}).then(a=>{let l=(e=>{let a=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("character")[0];if(!a)return null;let l=(e,a)=>{let l=Array.from(e.children).find(e=>e.nodeName===a);return l?l.textContent:""},s=(e,a)=>{let l=e.getElementsByTagName(a)[0];return l?l.textContent:""},i=(e,a)=>{let l=s(e,a);return l?parseInt(l,10):0},n={name:l(a,"name"),race:l(a,"race"),alignment:l(a,"alignment"),background:l(a,"background"),deity:l(a,"deity"),classes:[],abilities:{},ac:0,hp:0,speed:0,initiative:0,profBonus:0,skills:[],languages:[],feats:[]},t=a.getElementsByTagName("classes")[0];t&&Array.from(t.children).forEach(e=>{n.classes.push({name:s(e,"name"),level:i(e,"level")})});let r=a.getElementsByTagName("abilities")[0];r&&["strength","dexterity","constitution","intelligence","wisdom","charisma"].forEach(e=>{let a=r.getElementsByTagName(e)[0];a&&(n.abilities[e]={score:i(a,"score"),bonus:i(a,"bonus")})});let c=a.getElementsByTagName("defenses")[0];if(c){let e=c.getElementsByTagName("ac")[0];e&&(n.ac=i(e,"total"))}let o=a.getElementsByTagName("hp")[0];o&&(n.hp=i(o,"total"));let m=a.getElementsByTagName("speed")[0];m&&(n.speed=i(m,"total"));let d=a.getElementsByTagName("initiative")[0];d&&(n.initiative=i(d,"total")),n.profBonus=i(a,"profbonus");let h=a.getElementsByTagName("skilllist")[0];h&&Array.from(h.children).forEach(e=>{i(e,"prof")>0&&n.skills.push({name:s(e,"name"),total:i(e,"total")})});let p=a.getElementsByTagName("languagelist")[0];p&&Array.from(p.children).forEach(e=>{n.languages.push(s(e,"name"))});let u=a.getElementsByTagName("featlist")[0];return u&&Array.from(u.children).forEach(e=>{n.feats.push(s(e,"name"))}),n})(a);if(!l)throw Error(`Could not parse ${e}`);n(l)}).catch(e=>{console.error(e),h(e.message)})},[e]);let[g,j]=(0,t.useState)(l);if((0,t.useEffect)(()=>{if(!l&&x){let a=e.replace(".xml",""),l=`${u}/${a}.jpg`;fetch(l,{method:"HEAD"}).then(a=>{if(!a.ok)throw Error(`Could not fetch ${e}`);return a.text()}).catch(e=>{console.error(e),h(e.message)}).then(e=>{e.ok?j(l):j(`${u}/faceless.svg`)}).catch(()=>j(`${u}/faceless.svg`))}},[e,l,u,x]),c)return(0,i.jsxs)("div",{className:o.error,children:["Error: ",c]});if(!s)return(0,i.jsxs)("div",{className:o.loading,children:["Loading ",e,"..."]});let{name:y,race:v,alignment:N,background:b,deity:_,classes:D,abilities:E,ac:T,hp:w,speed:L,initiative:C,profBonus:S,skills:k,languages:B,feats:A}=s;return(0,i.jsxs)("div",{className:(0,d.A)(o.container,"medium"===a&&o.containerMedium,f&&o.containerSmall,o[a]),children:[(()=>{if(!x)return null;if(l){let e=`${u}/${l}`;return(0,i.jsx)("div",{className:o.portraitContainer,children:(0,i.jsx)("img",{src:e,alt:y,className:o.portrait})})}return g?(0,i.jsx)("div",{className:o.portraitContainer,children:(0,i.jsx)("img",{src:g,alt:y,className:o.emptyFace})}):null})(),(0,i.jsxs)("div",{className:o.content,children:[(0,i.jsx)("h1",{className:o.name,children:y}),(0,i.jsxs)("p",{className:o.classLevel,children:[v&&(0,i.jsxs)("span",{children:[v," "]}),D.map(e=>`${e.name} ${e.level}`).join(" / "),N&&(0,i.jsxs)("span",{children:[", ",N.toLowerCase()]}),b&&(0,i.jsxs)("span",{children:[", ",b.toLowerCase()]}),_&&(0,i.jsxs)("span",{children:[", deity ",_]})]}),(0,i.jsx)("hr",{className:o.horizontalRule}),(0,i.jsxs)("ul",{className:o.vitals,children:[(0,i.jsxs)("li",{className:o.vitalItem,children:["Armor Class ",(0,i.jsx)("span",{children:T})]}),(0,i.jsxs)("li",{className:o.vitalItem,children:["Hit Points ",(0,i.jsx)("span",{children:w})]}),(0,i.jsxs)("li",{className:o.vitalItem,children:["Speed ",(0,i.jsxs)("span",{children:[L," ft."]})]}),(0,i.jsxs)("li",{className:o.vitalItem,children:["Initiative ",(0,i.jsx)("span",{children:m(C)})]})]}),!f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:o.horizontalRule}),(0,i.jsx)("div",{className:o.abilities,children:Object.entries(E).map(([e,a])=>(0,i.jsxs)("div",{className:o.ability,children:[(0,i.jsx)("div",{className:o.abilityLabel,children:e.slice(0,3).toUpperCase()}),(0,i.jsxs)("div",{className:o.abilityValue,children:[a.score," (",m(a.bonus),")"]})]},e))})]}),!f&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:o.horizontalRule}),(0,i.jsxs)("div",{className:o.infoSection,children:[(0,i.jsx)("span",{className:o.infoLabel,children:"Proficient Skills"}),(0,i.jsx)("ul",{className:o.infoList,children:k.length>0?k.map(e=>(0,i.jsxs)("li",{children:[e.name," ",m(e.total)]},e.name)):(0,i.jsx)("li",{children:"None"})})]}),(0,i.jsxs)("div",{className:o.infoSection,children:[(0,i.jsx)("span",{className:o.infoLabel,children:"Languages"}),(0,i.jsx)("ul",{className:o.infoList,children:B.length>0?B.map(e=>(0,i.jsx)("li",{children:e},e)):(0,i.jsx)("li",{children:"Common"})})]}),(0,i.jsxs)("div",{className:o.infoSection,children:[(0,i.jsx)("span",{className:o.infoLabel,children:"Proficiency Bonus:"}),(0,i.jsx)("ul",{className:o.infoList,children:(0,i.jsx)("li",{children:m(S)})})]})]}),x&&A.length>0&&(0,i.jsxs)("div",{className:o.infoSection,children:[(0,i.jsx)("span",{className:o.infoLabel,children:"Feats:"}),(0,i.jsx)("ul",{className:o.infoList,children:A.map(e=>(0,i.jsx)("li",{children:e},e))})]})]}),(0,i.jsx)("div",{className:o.clearfix})]})}let u={},f="XmlChar Test Page",x={},g=[{value:"Display: Small",id:"display-small",level:2},{value:"Non-existant character",id:"non-existant-character",level:3},{value:"Display: Medium (Default)",id:"display-medium-default",level:2},{value:"Display: Large",id:"display-large",level:2},{value:"Display: Large with Image",id:"display-large-with-image",level:2},{value:"Different Character",id:"different-character",level:2}];function j(e){let a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"xmlchar-test-page",children:"XmlChar Test Page"})}),"\n",(0,i.jsxs)(a.p,{children:["This page tests the ",(0,i.jsx)(a.code,{children:"XmlChar"})," component with different display modes and character files."]}),"\n","\n",(0,i.jsx)(a.h2,{id:"display-small",children:"Display: Small"}),"\n",(0,i.jsx)(a.p,{children:"Shows basic vitality and level."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",display:"small"}),"\n",(0,i.jsx)(a.h3,{id:"non-existant-character",children:"Non-existant character"}),"\n",(0,i.jsx)(h,{filename:"fail.xml",display:"small"}),"\n",(0,i.jsx)(a.h2,{id:"display-medium-default",children:"Display: Medium (Default)"}),"\n",(0,i.jsx)(a.p,{children:"Adds stats, skills, and languages."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",display:"medium"}),"\n",(0,i.jsx)(a.h2,{id:"display-large",children:"Display: Large"}),"\n",(0,i.jsx)(a.p,{children:"Adds feats and character portrait placeholder (empty face)."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",mage:"tanadirian.jpg",display:"large"}),"\n",(0,i.jsx)(a.h2,{id:"display-large-with-image",children:"Display: Large with Image"}),"\n",(0,i.jsx)(a.p,{children:"Shows a provided character picture."}),"\n",(0,i.jsx)(h,{filename:"milo_4n.xml",display:"large",image:"milo.jpg"}),"\n",(0,i.jsx)(h,{filename:"alioth.xml",display:"large",image:"alioth.jpg"}),"\n",(0,i.jsx)(h,{filename:"antonidas_5.xml",display:"large",image:"antonidas.png"}),"\n",(0,i.jsx)(a.h2,{id:"different-character",children:"Different Character"}),"\n",(0,i.jsxs)(a.p,{children:["Testing with ",(0,i.jsx)(a.code,{children:"malagolvir_5.xml"})," medium."]}),"\n",(0,i.jsx)(h,{filename:"malagolvir_5.xml",display:"medium"}),"\n",(0,i.jsxs)(a.p,{children:["Testing with ",(0,i.jsx)(a.code,{children:"malagolvir_5"})," small."]}),"\n",(0,i.jsx)(h,{filename:"malagolvir_5",display:"small"})]})}function y(e={}){let{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}},10307:function(e,a,l){l.d(a,{A:()=>n});var s=l(74848);l(96540);var i=l(98864);function n({children:e,fallback:a}){return(0,i.A)()?(0,s.jsx)(s.Fragment,{children:e?.()}):a??null}},84429:function(e,a,l){l.d(a,{R:()=>t,x:()=>r});var s=l(96540);let i={},n=s.createContext(i);function t(e){let a=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(n.Provider,{value:a},e.children)}}}]);