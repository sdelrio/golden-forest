"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([["2566"],{4659:function(e,a,l){l.r(a),l.d(a,{frontMatter:()=>p,toc:()=>x,default:()=>j,metadata:()=>s,assets:()=>f,contentTitle:()=>u});var s=JSON.parse('{"id":"Games/DnD/XmlTest","title":"XmlChar Test Page","description":"This page tests the XmlChar component with different display modes and character files.","source":"@site/docs/Games/DnD/XmlTest.mdx","sourceDirName":"Games/DnD","slug":"/Games/DnD/XmlTest","permalink":"/pr-preview/pr-70/docs/Games/DnD/XmlTest","draft":false,"unlisted":false,"editUrl":"https://github.com/sdelrio/golden-forest/edit/master/docs/Games/DnD/XmlTest.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lingering Injuries","permalink":"/pr-preview/pr-70/docs/Games/DnD/Injuries"},"next":{"title":"Master Armor Table","permalink":"/pr-preview/pr-70/docs/Games/DnD/armor_table"}}'),i=l(74848),t=l(84429),n=l(96540),r=l(10307);let c={container:"container_yYsR",header:"header_D77w",portraitContainer:"portraitContainer_lh1N",clearfix:"clearfix_znAG",name:"name_b49W",classLevel:"classLevel_HgJH",portrait:"portrait_THiu",emptyFace:"emptyFace_GP8d",vitals:"vitals_N1rZ",vitalItem:"vitalItem_3McE",abilities:"abilities_pDY_",ability:"ability_D_fQ",abilityLabel:"abilityLabel_GOBM",abilityValue:"abilityValue_IUiV",abilityBonus:"abilityBonus_wW5h",infoSection:"infoSection_JWMj",infoLabel:"infoLabel_PWbD",infoList:"infoList_Tyev",small:"small_CU7d",medium:"medium_Ad9h",placeholderIcon:"placeholderIcon_N8sa"};function d(e){return"number"!=typeof e?e:e>=0?`+${e}`:`${e}`}var m=l(39836);function o(e){return(0,i.jsx)(r.A,{fallback:(0,i.jsx)("div",{children:"Loading character..."}),children:()=>(0,i.jsx)(h,{...e})})}function h({filename:e,display:a="medium",image:l}){let[s,t]=(0,n.useState)(null),[r,o]=(0,n.useState)(null);if((0,n.useEffect)(()=>{e&&fetch(`/fg/chars/${e}`).then(a=>{if(!a.ok)throw Error(`Could not fetch ${e}`);return a.text()}).then(a=>{let l=(e=>{let a=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("character")[0];if(!a)return null;let l=(e,a)=>{let l=Array.from(e.children).find(e=>e.nodeName===a);return l?l.textContent:""},s=(e,a)=>{let l=e.getElementsByTagName(a)[0];return l?l.textContent:""},i=(e,a)=>{let l=s(e,a);return l?parseInt(l,10):0},t={name:l(a,"name"),race:l(a,"race"),classes:[],abilities:{},ac:0,hp:0,speed:0,skills:[],languages:[],feats:[]},n=a.getElementsByTagName("classes")[0];n&&Array.from(n.children).forEach(e=>{t.classes.push({name:s(e,"name"),level:i(e,"level")})});let r=a.getElementsByTagName("abilities")[0];r&&["strength","dexterity","constitution","intelligence","wisdom","charisma"].forEach(e=>{let a=r.getElementsByTagName(e)[0];a&&(t.abilities[e]={score:i(a,"score"),bonus:i(a,"bonus")})});let c=a.getElementsByTagName("defenses")[0];if(c){let e=c.getElementsByTagName("ac")[0];e&&(t.ac=i(e,"total"))}let d=a.getElementsByTagName("hp")[0];d&&(t.hp=i(d,"total"));let m=a.getElementsByTagName("speed")[0];m&&(t.speed=i(m,"total"));let o=a.getElementsByTagName("skilllist")[0];o&&Array.from(o.children).forEach(e=>{i(e,"prof")>0&&t.skills.push({name:s(e,"name"),total:i(e,"total")})});let h=a.getElementsByTagName("languagelist")[0];h&&Array.from(h.children).forEach(e=>{t.languages.push(s(e,"name"))});let p=a.getElementsByTagName("featlist")[0];return p&&Array.from(p.children).forEach(e=>{t.feats.push(s(e,"name"))}),t})(a);if(!l)throw Error(`Could not parse ${e}`);t(l)}).catch(e=>{console.error(e),o(e.message)})},[e]),r)return(0,i.jsxs)("div",{className:c.error,children:["Error: ",r]});if(!s)return(0,i.jsxs)("div",{className:c.loading,children:["Loading ",e,"..."]});let{name:h,race:p,classes:u,abilities:f,ac:x,hp:g,speed:j,skills:y,languages:v,feats:N}=s,b="small"===a,D="large"===a;return(0,i.jsxs)("div",{className:(0,m.A)(c.container,c[a]),children:[D?l?(0,i.jsx)("div",{className:c.portraitContainer,children:(0,i.jsx)("img",{src:l,alt:h,className:c.portrait})}):(0,i.jsx)("div",{className:c.portraitContainer,children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:c.emptyFace,children:(0,i.jsx)("path",{fill:"currentColor",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}):null,(0,i.jsxs)("div",{className:c.content,children:[(0,i.jsx)("h2",{className:c.name,children:h}),(0,i.jsxs)("p",{className:c.classLevel,children:[p&&(0,i.jsxs)("span",{children:[p," "]}),u.map(e=>`${e.name} ${e.level}`).join(" / ")]}),(0,i.jsxs)("ul",{className:c.vitals,children:[(0,i.jsxs)("li",{className:c.vitalItem,children:["AC: ",(0,i.jsx)("span",{children:x})]}),(0,i.jsxs)("li",{className:c.vitalItem,children:["HP: ",(0,i.jsx)("span",{children:g})]}),(0,i.jsxs)("li",{className:c.vitalItem,children:["Speed: ",(0,i.jsxs)("span",{children:[j," ft."]})]})]}),!b&&(0,i.jsx)("div",{className:c.abilities,children:Object.entries(f).map(([e,a])=>(0,i.jsxs)("div",{className:c.ability,children:[(0,i.jsx)("div",{className:c.abilityLabel,children:e.slice(0,3).toUpperCase()}),(0,i.jsx)("div",{className:c.abilityValue,children:a.score}),(0,i.jsxs)("div",{className:c.abilityBonus,children:["(",d(a.bonus),")"]})]},e))}),!b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:c.infoSection,children:[(0,i.jsx)("span",{className:c.infoLabel,children:"Proficient Skills:"}),(0,i.jsx)("ul",{className:c.infoList,children:y.length>0?y.map(e=>(0,i.jsxs)("li",{children:[e.name," ",d(e.total)]},e.name)):(0,i.jsx)("li",{children:"None"})})]}),(0,i.jsxs)("div",{className:c.infoSection,children:[(0,i.jsx)("span",{className:c.infoLabel,children:"Languages:"}),(0,i.jsx)("ul",{className:c.infoList,children:v.length>0?v.map(e=>(0,i.jsx)("li",{children:e},e)):(0,i.jsx)("li",{children:"Common"})})]})]}),D&&N.length>0&&(0,i.jsxs)("div",{className:c.infoSection,children:[(0,i.jsx)("span",{className:c.infoLabel,children:"Feats:"}),(0,i.jsx)("ul",{className:c.infoList,children:N.map(e=>(0,i.jsx)("li",{children:e},e))})]})]}),(0,i.jsx)("div",{className:c.clearfix})]})}let p={},u="XmlChar Test Page",f={},x=[{value:"Display: Small",id:"display-small",level:2},{value:"Display: Medium (Default)",id:"display-medium-default",level:2},{value:"Display: Large",id:"display-large",level:2},{value:"Display: Large with Image",id:"display-large-with-image",level:2},{value:"Different Character",id:"different-character",level:2}];function g(e){let a={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"xmlchar-test-page",children:"XmlChar Test Page"})}),"\n",(0,i.jsxs)(a.p,{children:["This page tests the ",(0,i.jsx)(a.code,{children:"XmlChar"})," component with different display modes and character files."]}),"\n","\n",(0,i.jsx)(a.h2,{id:"display-small",children:"Display: Small"}),"\n",(0,i.jsx)(a.p,{children:"Shows basic vitality and level."}),"\n",(0,i.jsx)(o,{filename:"tanadirian_6.xml",display:"small"}),"\n",(0,i.jsx)(a.h2,{id:"display-medium-default",children:"Display: Medium (Default)"}),"\n",(0,i.jsx)(a.p,{children:"Adds stats, skills, and languages."}),"\n",(0,i.jsx)(o,{filename:"tanadirian_6.xml",display:"medium"}),"\n",(0,i.jsx)(a.h2,{id:"display-large",children:"Display: Large"}),"\n",(0,i.jsx)(a.p,{children:"Adds feats and character portrait placeholder (empty face)."}),"\n",(0,i.jsx)(o,{filename:"tanadirian_6.xml",display:"large"}),"\n",(0,i.jsx)(a.h2,{id:"display-large-with-image",children:"Display: Large with Image"}),"\n",(0,i.jsx)(a.p,{children:"Shows a provided character picture."}),"\n",(0,i.jsx)(o,{filename:"milo_4n.xml",display:"large",image:"/img/docusaurus.png"}),"\n",(0,i.jsx)(a.h2,{id:"different-character",children:"Different Character"}),"\n",(0,i.jsxs)(a.p,{children:["Testing with ",(0,i.jsx)(a.code,{children:"malagolvir_5.xml"}),"."]}),"\n",(0,i.jsx)(o,{filename:"malagolvir_5.xml",display:"medium"})]})}function j(e={}){let{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},10307:function(e,a,l){l.d(a,{A:()=>t});var s=l(74848);l(96540);var i=l(98864);function t({children:e,fallback:a}){return(0,i.A)()?(0,s.jsx)(s.Fragment,{children:e?.()}):a??null}},84429:function(e,a,l){l.d(a,{R:()=>n,x:()=>r});var s=l(96540);let i={},t=s.createContext(i);function n(e){let a=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);