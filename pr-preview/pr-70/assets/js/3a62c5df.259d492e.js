"use strict";(self.webpackChunkgolden_forest_website=self.webpackChunkgolden_forest_website||[]).push([["2566"],{4659:function(e,a,s){s.r(a),s.d(a,{frontMatter:()=>x,toc:()=>j,default:()=>y,metadata:()=>l,assets:()=>f,contentTitle:()=>u});var l=JSON.parse('{"id":"Games/DnD/XmlTest","title":"XmlChar Test Page","description":"This page tests the XmlChar component with different display modes and character files.","source":"@site/docs/Games/DnD/XmlTest.mdx","sourceDirName":"Games/DnD","slug":"/Games/DnD/XmlTest","permalink":"/pr-preview/pr-70/docs/Games/DnD/XmlTest","draft":false,"unlisted":false,"editUrl":"https://github.com/sdelrio/golden-forest/edit/master/docs/Games/DnD/XmlTest.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lingering Injuries","permalink":"/pr-preview/pr-70/docs/Games/DnD/Injuries"},"next":{"title":"Master Armor Table","permalink":"/pr-preview/pr-70/docs/Games/DnD/armor_table"}}'),i=s(74848),n=s(84429),t=s(96540),r=s(97158),c=s(10307);let m={container:"container_yYsR",fadeIn:"fadeIn_wEEg",containerMedium:"containerMedium_ufGN",containerSmall:"containerSmall_VfzI",header:"header_D77w",portraitContainer:"portraitContainer_lh1N",clearfix:"clearfix_znAG",name:"name_b49W",classLevel:"classLevel_HgJH",small:"small_CU7d",alignment:"alignment_kaFD",portrait:"portrait_THiu",emptyFace:"emptyFace_GP8d",vitals:"vitals_N1rZ",vitalItem:"vitalItem_3McE",abilities:"abilities_pDY_",ability:"ability_D_fQ",abilityLabel:"abilityLabel_GOBM",abilityValue:"abilityValue_IUiV",abilityBonus:"abilityBonus_wW5h",abilitiesCompact:"abilitiesCompact_abJt",abilitiesCompactHeader:"abilitiesCompactHeader_NxN8",abilityCompactLabel:"abilityCompactLabel_JFXk",abilityCompactValue:"abilityCompactValue_epMt",abilityCompactBonus:"abilityCompactBonus_eFK8",abilityCompactSave:"abilityCompactSave_bT10",infoSection:"infoSection_JWMj",infoLabel:"infoLabel_PWbD",infoList:"infoList_Tyev",medium:"medium_Ad9h",placeholderIcon:"placeholderIcon_N8sa",horizontalRule:"horizontalRule_qnjT"};function o(e){return"number"!=typeof e?e:e>=0?`+${e}`:`${e}`}var d=s(39836);function h(e){return(0,i.jsx)(c.A,{fallback:(0,i.jsx)("div",{className:m.container,children:(0,i.jsx)("div",{className:m.content,children:(0,i.jsx)("h1",{className:m.name,children:"Loading character..."})})}),children:()=>(0,i.jsx)(p,{...e})})}function p({filename:e,display:a="medium",image:s}){let[l,n]=(0,t.useState)(null),[c,h]=(0,t.useState)(null),p=(0,r.Ay)("/fg/chars"),x=(0,r.Ay)("/fg/avatar"),u="small"===a,f="medium"===a,j="large"===a;(0,t.useEffect)(()=>{if(!e)return;let a="";e.endsWith(".xml")||(a=".xml"),fetch(`${p}/${e}${a}`).then(a=>{if(!a.ok)throw Error(`File not found: ${e}`);let s=a.headers.get("content-type")||"";if(!s.includes("xml")&&!s.includes("text/plain"))throw Error(`File not found: ${e}`);return a.text()}).then(a=>{let s=(e=>{let a=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("character")[0];if(!a)return null;let s=(e,a)=>{let s=Array.from(e.children).find(e=>e.nodeName===a);return s?s.textContent:""},l=(e,a)=>{let s=e.getElementsByTagName(a)[0];return s?s.textContent:""},i=(e,a)=>{let s=l(e,a);return s?parseInt(s,10):0},n={name:s(a,"name"),race:s(a,"race"),alignment:s(a,"alignment"),background:s(a,"background"),deity:s(a,"deity"),classes:[],abilities:{},ac:0,hp:0,speed:0,initiative:0,profBonus:0,skills:[],languages:[],feats:[]},t=a.getElementsByTagName("classes")[0];t&&Array.from(t.children).forEach(e=>{n.classes.push({name:l(e,"name"),level:i(e,"level")})});let r=a.getElementsByTagName("abilities")[0];r&&["strength","dexterity","constitution","intelligence","wisdom","charisma"].forEach(e=>{let a=r.getElementsByTagName(e)[0];a&&(n.abilities[e]={score:i(a,"score"),bonus:i(a,"bonus"),save:i(a,"save")})});let c=a.getElementsByTagName("defenses")[0];if(c){let e=c.getElementsByTagName("ac")[0];e&&(n.ac=i(e,"total"))}let m=a.getElementsByTagName("hp")[0];m&&(n.hp=i(m,"total"));let o=a.getElementsByTagName("speed")[0];o&&(n.speed=i(o,"total"));let d=a.getElementsByTagName("initiative")[0];d&&(n.initiative=i(d,"total")),n.profBonus=i(a,"profbonus");let h=a.getElementsByTagName("skilllist")[0];h&&Array.from(h.children).forEach(e=>{i(e,"prof")>0&&n.skills.push({name:l(e,"name"),total:i(e,"total")})});let p=a.getElementsByTagName("languagelist")[0];p&&Array.from(p.children).forEach(e=>{n.languages.push(l(e,"name"))});let x=a.getElementsByTagName("featlist")[0];return x&&Array.from(x.children).forEach(e=>{n.feats.push(l(e,"name"))}),n})(a);if(!s)throw Error(`Could not parse ${e}`);n(s)}).catch(e=>{console.error(e),h(e.message)})},[e]);let[g,y]=(0,t.useState)(s);if((0,t.useEffect)(()=>{if(!s&&j){let a=e.replace(".xml",""),s=`${x}/${a}.jpg`;fetch(s,{method:"HEAD"}).then(a=>{if(!a.ok)throw Error(`Could not fetch ${e}`);return a.text()}).catch(e=>{console.error(e),h(e.message)}).then(e=>{e.ok?y(s):y(`${x}/faceless.svg`)}).catch(()=>y(`${x}/faceless.svg`))}},[e,s,x,j]),c)return(0,i.jsxs)("div",{className:m.error,children:["Error: ",c]});if(!l)return(0,i.jsxs)("div",{className:m.loading,children:["Loading ",e,"..."]});let{name:v,race:b,alignment:N,background:_,deity:C,classes:D,abilities:E,ac:w,hp:L,speed:T,initiative:S,profBonus:A,skills:B,languages:k,feats:I}=l;return(0,i.jsxs)("div",{className:(0,d.A)(m.container,f&&m.containerMedium,u&&m.containerSmall,m[a]),children:[(()=>{if(!j)return null;if(s){let e=`${x}/${s}`;return(0,i.jsx)("div",{className:m.portraitContainer,children:(0,i.jsx)("img",{src:e,alt:v,className:m.portrait})})}return g?(0,i.jsx)("div",{className:m.portraitContainer,children:(0,i.jsx)("img",{src:g,alt:v,className:m.emptyFace})}):null})(),(0,i.jsxs)("div",{className:m.content,children:[u?(0,i.jsx)("h3",{className:m.name,children:v}):f?(0,i.jsx)("h2",{className:m.name,children:v}):(0,i.jsx)("h1",{className:m.name,children:v}),(0,i.jsxs)("p",{className:(0,d.A)(m.classLevel,u&&m.small),children:[b&&(0,i.jsxs)("span",{children:[b," "]}),D.map(e=>`${e.name} ${e.level}`).join(" / "),N&&(0,i.jsxs)("span",{children:[", ",N.toLowerCase()]}),_&&!u&&(0,i.jsxs)("span",{children:[", ",_.toLowerCase()]}),C&&(0,i.jsxs)("span",{children:[", deity ",C]})]}),!u&&(0,i.jsx)("hr",{className:m.horizontalRule}),(0,i.jsxs)("ul",{className:(0,d.A)(m.vitals,u&&m.small),children:[(0,i.jsxs)("li",{className:m.vitalItem,children:[u?"AC":"Armor Class"," ",(0,i.jsx)("span",{children:w})]}),(0,i.jsxs)("li",{className:m.vitalItem,children:["Initiative ",(0,i.jsxs)("span",{children:[o(S)," (",10+S,")"]})]}),(0,i.jsxs)("li",{className:m.vitalItem,children:[u?"HP":"Hit Points"," ",(0,i.jsx)("span",{children:L})]}),(0,i.jsxs)("li",{className:m.vitalItem,children:["Speed ",(0,i.jsxs)("span",{children:[T," ft."]})]})]}),!u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:m.horizontalRule}),(0,i.jsx)("div",{className:m.abilities,children:Object.entries(E).map(([e,a])=>(0,i.jsxs)("div",{className:m.ability,children:[(0,i.jsx)("div",{className:m.abilityLabel,children:e.slice(0,3).toUpperCase()}),(0,i.jsxs)("div",{className:m.abilityValue,children:[a.score," (",o(a.bonus),")"]})]},e))})]}),u&&(0,i.jsxs)("div",{className:m.abilitiesCompact,children:[(0,i.jsxs)("div",{className:m.abilitiesCompactHeader,children:[(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{children:"MOD"}),(0,i.jsx)("span",{children:"SAVE"}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{children:"MOD"}),(0,i.jsx)("span",{children:"SAVE"}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{children:"MOD"}),(0,i.jsx)("span",{children:"SAVE"})]}),Object.entries(E).map(([e,a])=>(0,i.jsxs)(t.Fragment,{children:[(0,i.jsx)("span",{className:m.abilityCompactLabel,children:e.slice(0,3).toUpperCase()}),(0,i.jsx)("span",{className:m.abilityCompactValue,children:a.score}),(0,i.jsx)("span",{className:m.abilityCompactBonus,children:o(a.bonus)}),(0,i.jsx)("span",{className:m.abilityCompactSave,children:o(a.save)})]},e))]}),!u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:m.horizontalRule}),(0,i.jsxs)("div",{className:m.infoSection,children:[(0,i.jsx)("span",{className:m.infoLabel,children:"Proficient Skills"}),(0,i.jsx)("ul",{className:m.infoList,children:B.length>0?B.map(e=>(0,i.jsxs)("li",{children:[e.name," ",o(e.total)]},e.name)):(0,i.jsx)("li",{children:"None"})})]}),(0,i.jsxs)("div",{className:m.infoSection,children:[(0,i.jsx)("span",{className:m.infoLabel,children:"Languages"}),(0,i.jsx)("ul",{className:m.infoList,children:k.length>0?k.map(e=>(0,i.jsx)("li",{children:e},e)):(0,i.jsx)("li",{children:"Common"})})]}),(0,i.jsxs)("div",{className:m.infoSection,children:[(0,i.jsx)("span",{className:m.infoLabel,children:"Proficiency Bonus:"}),(0,i.jsx)("ul",{className:m.infoList,children:(0,i.jsx)("li",{children:o(A)})})]})]}),j&&I.length>0&&(0,i.jsxs)("div",{className:m.infoSection,children:[(0,i.jsx)("span",{className:m.infoLabel,children:"Feats:"}),(0,i.jsx)("ul",{className:m.infoList,children:I.map(e=>(0,i.jsx)("li",{children:e},e))})]})]}),(0,i.jsx)("div",{className:m.clearfix})]})}let x={},u="XmlChar Test Page",f={},j=[{value:"Display: Small",id:"display-small",level:2},{value:"Non-existant character",id:"non-existant-character",level:3},{value:"Display: Medium (Default)",id:"display-medium-default",level:2},{value:"Display: Large",id:"display-large",level:2},{value:"Display: Large with Image",id:"display-large-with-image",level:2},{value:"Different Character",id:"different-character",level:2}];function g(e){let a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"xmlchar-test-page",children:"XmlChar Test Page"})}),"\n",(0,i.jsxs)(a.p,{children:["This page tests the ",(0,i.jsx)(a.code,{children:"XmlChar"})," component with different display modes and character files."]}),"\n","\n",(0,i.jsx)(a.h2,{id:"display-small",children:"Display: Small"}),"\n",(0,i.jsx)(a.p,{children:"Shows a narrow card with vitality, level and abilities."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",display:"small"}),"\n",(0,i.jsx)(a.h3,{id:"non-existant-character",children:"Non-existant character"}),"\n",(0,i.jsx)(h,{filename:"fail.xml",display:"small"}),"\n",(0,i.jsx)(a.h2,{id:"display-medium-default",children:"Display: Medium (Default)"}),"\n",(0,i.jsx)(a.p,{children:"Adds stats, skills, and languages."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",display:"medium"}),"\n",(0,i.jsx)(a.h2,{id:"display-large",children:"Display: Large"}),"\n",(0,i.jsx)(a.p,{children:"Adds feats and character portrait placeholder (empty face)."}),"\n",(0,i.jsx)(h,{filename:"tanadirian_6.xml",mage:"tanadirian.jpg",display:"large"}),"\n",(0,i.jsx)(a.h2,{id:"display-large-with-image",children:"Display: Large with Image"}),"\n",(0,i.jsx)(a.p,{children:"Shows a provided character picture."}),"\n",(0,i.jsx)(h,{filename:"milo_4n.xml",display:"large",image:"milo.jpg"}),"\n",(0,i.jsx)(h,{filename:"alioth.xml",display:"large",image:"alioth.jpg"}),"\n",(0,i.jsx)(h,{filename:"antonidas_5.xml",display:"large",image:"antonidas.png"}),"\n",(0,i.jsx)(a.h2,{id:"different-character",children:"Different Character"}),"\n",(0,i.jsxs)(a.p,{children:["Testing with ",(0,i.jsx)(a.code,{children:"malagolvir_5.xml"})," medium."]}),"\n",(0,i.jsx)(h,{filename:"malagolvir_5.xml",display:"medium"}),"\n",(0,i.jsxs)(a.p,{children:["Testing with ",(0,i.jsx)(a.code,{children:"malagolvir_5"})," small."]}),"\n",(0,i.jsx)(h,{filename:"malagolvir_5",display:"small"})]})}function y(e={}){let{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},10307:function(e,a,s){s.d(a,{A:()=>n});var l=s(74848);s(96540);var i=s(98864);function n({children:e,fallback:a}){return(0,i.A)()?(0,l.jsx)(l.Fragment,{children:e?.()}):a??null}},84429:function(e,a,s){s.d(a,{R:()=>t,x:()=>r});var l=s(96540);let i={},n=l.createContext(i);function t(e){let a=l.useContext(n);return l.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),l.createElement(n.Provider,{value:a},e.children)}}}]);